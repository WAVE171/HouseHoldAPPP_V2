# User Acceptance Testing (UAT) - Status Report

Last Updated: 2026-02-07

## Household Module

| Issue | Status | Notes |
|-------|--------|-------|
| Theme changes (dark mode) not working | IMPLEMENTED | Dark mode is fully functional via Settings > Preferences. Uses ThemeContext.tsx with light/dark/system options. Theme persists to localStorage. |
| Cannot edit household address | IMPLEMENTED | EditHouseholdDialog.tsx allows editing name, address, city, state, zipCode, phone. Accessible via "Editar" button in HouseholdProfile. |
| Inviting not working (email not sent) | IMPLEMENTED (UI) | InviteMemberDialog.tsx handles invitation UI. Email sending depends on backend SMTP configuration. Check backend email service setup. |
| Cannot edit member or register staff | IMPLEMENTED | Created EditEmployeeDialog.tsx for editing staff. Employees can be added via AddEmployeeDialog and edited by clicking on employee card. |

## Staff Module

| Issue | Status | Notes |
|-------|--------|-------|
| Salaries in USD instead of Kwanzas | IMPLEMENTED | Currency is configured for Angola (AOA - Angolan Kwanza). Salary field shows "Salary (Kz)". Default currency is AOA in currency.ts. |

## Kids Module

| Issue | Status | Notes |
|-------|--------|-------|
| Cannot edit kids information | IMPLEMENTED | EditChildDialog.tsx provides full editing: photo, personal info, birth date, gender, blood type, allergies, medical conditions. |

## Task Module

| Issue | Status | Notes |
|-------|--------|-------|
| Cannot edit task | IMPLEMENTED | EditTaskDialog.tsx allows editing title, description, priority, status, due date, assignee, tags. |
| Calendar integration (Google Calendar) | NOT IMPLEMENTED | Requires Google Cloud Project setup and OAuth2 integration. See "Google Calendar Integration" section below. |

## Inventory Module

| Issue | Status | Notes |
|-------|--------|-------|
| Use metric system (Kg, ml) not gallons | IMPLEMENTED | Units defined in AddItemDialog.tsx: 'unidades', 'kg', 'g', 'L', 'ml', 'garrafas', 'caixas', 'sacos', 'latas', 'rolos', 'comprimidos', 'tubos' |

## Recipes Module

| Issue | Status | Notes |
|-------|--------|-------|
| No button to add recipes | IMPLEMENTED | AddRecipeDialog.tsx provides full recipe creation with title, description, times, servings, category, ingredients, instructions, tags. |

## Super Admin Portal

| Issue | Status | Notes |
|-------|--------|-------|
| Panel needs changes for super admin | IMPLEMENTED | Full Super Admin dashboard with: System stats, Household management, User management (cross-household), Subscription management, Audit logs, Impersonation, Settings. Route protection updated to include SUPER_ADMIN role. |

---

## Implementation Details

### Files Created/Modified

**New Files:**
- `src/features/employees/components/EditEmployeeDialog.tsx` - Edit staff functionality

**Modified Files:**
- `src/features/employees/pages/EmployeesPage.tsx` - Added edit employee integration
- `src/features/admin/components/UserManagement.tsx` - Added create user button for Super Admin
- `src/features/admin/components/SystemDashboard.tsx` - Added trends and analytics
- `src/features/admin/types/admin.types.ts` - Added TrendsData and RecentActivity types
- `src/shared/api/admin.api.ts` - Added trends data and create user API
- `src/app/routes/index.tsx` - Updated route protection to include SUPER_ADMIN

---

## Google Calendar Integration

**Status:** Not Implemented - Requires External Setup

**Requirements:**
1. Google Cloud Project with Calendar API enabled
2. OAuth2 credentials (Client ID, Client Secret)
3. Backend implementation for token storage
4. Frontend OAuth2 flow implementation

**Implementation Steps (Future):**
1. Create Google Cloud Project at console.cloud.google.com
2. Enable Google Calendar API
3. Create OAuth2 credentials
4. Add environment variables for credentials
5. Implement OAuth2 flow in auth module
6. Add calendar sync API endpoints
7. Create sync UI component

---

## Backend Requirements (Email Sending)

For member invitations to work fully:
1. Configure SMTP settings in backend `.env`:
   - SMTP_HOST
   - SMTP_PORT
   - SMTP_USER
   - SMTP_PASSWORD
   - SMTP_FROM_EMAIL
2. Verify email service is running in production

---

## Testing Checklist

- [x] Dark mode toggle works in Settings
- [x] Household details can be edited
- [x] Staff/employees can be added and edited
- [x] Kids information can be edited
- [x] Tasks can be created and edited
- [x] Inventory uses metric units
- [x] Recipes can be added
- [x] Super Admin can access admin panel
- [x] Super Admin can create users
- [x] Super Admin can create households
- [x] Super Admin dashboard shows trends and analytics
- [ ] Email invitations (requires backend SMTP setup)
- [ ] Google Calendar sync (requires Google Cloud setup)
